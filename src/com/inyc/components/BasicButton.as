package com.inyc.components {		import com.inyc.core.CoreMovieClip;		import flash.display.MovieClip;	import flash.events.Event;	import flash.events.MouseEvent;
	/**	 * @author stevewarren	 */	public class BasicButton extends CoreMovieClip {		private var _selected:Boolean = false;		private var _mc:MovieClip;								public function BasicButton(mc:MovieClip){			_mc = mc;			addChild(_mc);		}				override protected function onAddedToStage(e:Event):void{			super.onAddedToStage(e);			this.buttonMode = true;			_mc.addEventListener(MouseEvent.ROLL_OVER, onMouseEvent);			_mc.addEventListener(MouseEvent.MOUSE_DOWN, onMouseEvent);			_mc.addEventListener(MouseEvent.MOUSE_UP, onMouseEvent);			_mc.addEventListener(MouseEvent.ROLL_OUT, onMouseEvent);			_mc.addEventListener(MouseEvent.CLICK, onMouseEvent);						_mc.gotoAndStop("up");			
		}				override protected function onRemovedFromStage(e:Event):void{
			super.onRemovedFromStage(e);
		}				protected function onMouseEvent(e:MouseEvent):void{			switch(e.type){				case MouseEvent.ROLL_OVER:					if (!_selected && enabled) _mc.gotoAndStop("over");					break;				case MouseEvent.ROLL_OUT:					if (!_selected && enabled) _mc.gotoAndStop("up");					break;				case MouseEvent.MOUSE_DOWN:					if (!_selected && enabled) _mc.gotoAndStop("down");					break;				case MouseEvent.MOUSE_UP:					if (!_selected && enabled) _mc.gotoAndStop("over");					break;				case MouseEvent.CLICK:					if (!_selected && enabled) dispatchEvent(e);					break;			}		}						public function set selected(pSelected:Boolean):void {			_selected = pSelected;			if (_selected && enabled) {				//try down first, and if there is a selected state, then go there				_mc.gotoAndStop("down");				_mc.gotoAndStop("selected");				_mc.buttonMode = false;			}else{				_mc.gotoAndStop("up");				_mc.buttonMode = true;			}		}				public function get selected():Boolean {			return _selected;		}				override public function set enabled(pEnabled:Boolean):void{			super.enabled = pEnabled;						//log("enabled:"+pEnabled);			if (pEnabled){				_mc.useHandCursor = true;				_mc.buttonMode = true;				_mc.gotoAndStop("up");							}else{				_mc.useHandCursor = false;				_mc.buttonMode = false;				_mc.gotoAndStop("disabled");							}		}									}}